# 플로우차트

- **인기 상품 조회**
    
    ```mermaid
    flowchart TB
        A(["Start"]) --> B[/"인기 상품 조회 요청"/]
        B --> C["데이터 조회"]
        C --> E(("상위 상품 조회 완료"))
        E --> F["정상 응답"]
        F --> G(["End"])
    ```
    
- **주문 결제**
    
    ```mermaid
    flowchart TB
        A(["Start"]) --> B[/"주문-결제 요청"/]
        B --> C{"사용자가 존재하는가?"}
        C -- No --> D["오류 응답 (사용자 미존재)"]
        C -- Yes --> E{"잔액이 충분한가?"}
        E -- No --> F["오류 응답 (잔액 부족)"]
        E -- Yes --> G{"재고가 충분한가?"}
        G -- No --> H["오류 응답 (재고 부족)"]
        G -- Yes --> I{"쿠폰을 사용하는가?"}
        I -- No --> J["주문-결제 성공 및 응답"]
        I -- Yes --> K{"쿠폰이 유효한가?"}
        K -- No --> L["오류 응답 (유효하지 않은 쿠폰)"]
        K -- Yes --> J
        D --> N
        F --> N
        H --> N
        L --> N
        J --> M(["End"])
        N --> M
    
    ```
    
- **쿠폰 조회**
    
    ```mermaid
    flowchart TB
        A(["Start"]) --> B[/"쿠폰 조회 요청"/]
        B --> C{"사용자가 존재하는가?"}
        C -- No --> D["오류 응답: 사용자 없음"]
        C -- Yes --> E{"데이터 조회 성공?"}
        E -- No --> F["오류 응답: 데이터 조회 실패"]
        E -- Yes --> G["정상 응답: 쿠폰 데이터 반환"]
        D --> H
        F --> H
        G --> H(["End"])
    
    ```
    
- **쿠폰 발급**
    
    ```mermaid
    flowchart TB
        A(["Start"]) --> B[/"쿠폰 발급 요청"/]
        B --> C{"유효한 사용자?"}
        C -- No --> D["오류 응답: 유효하지 않은 사용자"]
        C -- Yes --> E["쿠폰 정보 조회"]
        E --> F{"잔여 수량 있음?"}
        F -- No --> G["오류 응답: 재고 부족"]
        F -- Yes --> H{"중복 발급 아님?"}
        H -- No --> I["오류 응답: 이미 발급됨"]
        H -- Yes --> J(("쿠폰 발급 완료"))
        J --> K["정상 응답: 쿠폰 ID, 발급/만료 시간"]
        D --> L
        G --> L
        I --> L
        K --> L(["End"])
    
    ```
    
- **상품 조회**
    
    ```mermaid
    flowchart TB
        A(["Start"]) --> B[/"상품 조회 요청"/]
        B --> C{"유효한 상품?"}
        C -- No --> D["오류 응답"]
        C -- Yes --> E["상품 정보 조회"]
        E --> I["정상 응답"]
        D --> J
        I --> J(["End"])
    ```
    
- **잔액 조회**
    
    ```mermaid
    flowchart TB
        A(["Start"]) --> B["잔액 조회 요청"]
        B --> C{"유효한 요청 데이터?"}
        C -- No --> D["오류 응답: 잘못된 요청"]
        C -- Yes --> E{"유효한 사용자?"}
        E -- No --> F["오류 응답: 사용자 없음"]
        E -- Yes --> G["사용자 잔액 조회"]
        G --> H(("잔액 조회 완료"))
        H --> I["정상 응답: 잔액 정보"]
        D --> J
        F --> J
        I --> J(["End"])
    
    ```
    
- **잔액 충전**
    
    ```mermaid
    flowchart TB
        A(["Start"]) --> B["충전 요청"]
        B --> C{"사용자가 데이터베이스에 존재?"}
        C -- No --> D["오류 응답: 유효하지 않은 사용자"]
        C -- Yes --> E{"요청 금액 > 0?"}
        E -- No --> F["오류 응답: 금액이 유효하지 않음"]
        E -- Yes --> G["잔액 조회 및 충전"]
        G --> H["잔액 충전 완료"]
        H --> I["정상 응답: 충전 성공 데이터"]
        D --> J["End"]
        F --> J
        I --> J
    
    ```